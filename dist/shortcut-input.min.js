function ShortcutInput(a,b){this.element=a,this.settings=this.merge(ShortcutInput.defaults,b),this.element.addEventListener("keydown",this.handleInput.bind(this))}ShortcutInput.prototype.merge=function(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]="object"==typeof arguments[b][c]?this.merge(a[c],arguments[b][c]):arguments[b][c]);return a},ShortcutInput.prototype.handleInput=function(a){a.preventDefault();var b={modifiers:{alt:a.altKey,ctrl:a.ctrlKey,meta:a.metaKey,shift:a.shiftKey},key:a.which||a.keyCode};this.isValid(b)&&(this.element.value=this.render(b),this.trigger("change",b))},ShortcutInput.prototype.isValid=function(a){return this.settings.mapping[a.key]&&(a.modifiers.ctrl||a.modifiers.alt||a.modifiers.shift||a.modifiers.meta||a.key>=112&&a.key<=123)},ShortcutInput.prototype.render=function(a){var b=[];return this.settings.order.forEach(function(c){a.modifiers[c]&&b.push(this.settings.mapping[c])}.bind(this)),a.key&&b.push(this.settings.mapping[a.key]),b.join(this.settings.glue)},ShortcutInput.prototype.trigger=function(a,b){if(a=this.settings.eventPrefix+a,b=b||{},window.CustomEvent)var c=new CustomEvent(a,{detail:b});else{var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!0,!0,b)}this.element.dispatchEvent(c)},ShortcutInput.defaults={eventPrefix:"shortcutInput.",glue:"",mapping:{alt:"⌥",ctrl:"⌃",meta:"⌘",shift:"⇧",27:"⎋",32:"Space",37:"←",38:"↑",39:"→",40:"↓",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},order:["ctrl","alt","shift","meta"]};